<!DOCTYPE html>
<html lang="en">
<head>
    
    


    


<title>
    Flyway
</title>
<meta charset="utf-8">

<meta name="viewport" content="width=device-width, initial-scale=1.0">



<link href="//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,700italic,700,300,400" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">
<link rel="stylesheet" href="http://seedstack.org/assets/unify/css/style.css">
<link rel="stylesheet" href="http://seedstack.org/assets/unify/plugins/font-awesome/css/font-awesome.css">
<link rel="stylesheet" href="http://seedstack.org/css/style.css">



<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Organization",
  "url": "http://seedstack.org",
  "logo": "http://seedstack.org/img/logos/seedstack.png"
}
</script>



<meta property="og:title" content='Flyway' />
<meta property="og:description" content="SeedStack Flyway add-on provides support for automatic database migration through Flyway.
  For more information about Flyway: https://flywaydb.org/documentation/
   Dependency Maven Gradle   &lt;dependency&gt; &lt;groupId&gt;org.seedstack.addons.flyway&lt;/groupId&gt; &lt;artifactId&gt;flyway&lt;/artifactId&gt;&lt;version&gt;2.0.0&lt;/version&gt; &lt;/dependency&gt;  Specifying versions manually is error-prone, use dependency management instead. Show version   dependencies { compile(&quot;org.seedstack.addons.flyway:flyway:2.0.0&quot;) }    Configuration To enable database migration, a properly configured datasource is required:
jdbc: datasources: someDatasource: url: jdbc:hsqldb:mem:somedb  With only this configuration, the Flyway add-on will lookup for SQL migration scripts in the db/migration/&lt;dsName&gt; classpath location and if it finds any, will apply the necessary scripts to upgrade the database to the latest version." />
<meta property="og:url" content="http://seedstack.org/addons/flyway/" />
<meta property="og:site_name" content="SeedStack" />
<meta property="og:image" content="http://seedstack.org/img/opengraph.png" />



<link rel="search" type="application/opensearchdescription+xml" href="http://seedstack.org/opensearch.xml" title="SeedStack" />



<link rel="apple-touch-icon" sizes="57x57" href="http://seedstack.org/img/favicons/apple-touch-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="http://seedstack.org/img/favicons/apple-touch-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="http://seedstack.org/img/favicons/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="http://seedstack.org/img/favicons/apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="http://seedstack.org/img/favicons/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="http://seedstack.org/img/favicons/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="http://seedstack.org/img/favicons/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="http://seedstack.org/img/favicons/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="http://seedstack.org/img/favicons/apple-touch-icon-180x180.png">
<link rel="icon" type="image/png" href="http://seedstack.org/img/favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="http://seedstack.org/img/favicons/favicon-194x194.png" sizes="194x194">
<link rel="icon" type="image/png" href="http://seedstack.org/img/favicons/favicon-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="http://seedstack.org/img/favicons/android-chrome-192x192.png" sizes="192x192">
<link rel="icon" type="image/png" href="http://seedstack.org/img/favicons/favicon-16x16.png" sizes="16x16">
<link rel="manifest" href="http://seedstack.org/img/favicons/manifest.json">
<meta name="apple-mobile-web-app-title" content="SeedStack">
<meta name="application-name" content="SeedStack">
<meta name="msapplication-TileColor" content="#00a300">
<meta name="msapplication-TileImage" content="/img/favicons/mstile-144x144.png">
<meta name="theme-color" content="#ffffff">



<script type="text/javascript">
    window.seedstack = {
        baseUrl: "http:\/\/seedstack.org\/",
        state: {}
    };
</script>


</head>
<body>

<noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5R5FP9"
                  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-5R5FP9');</script>


<div id="header">
    
    

<div class="header">
    <div class="container">
        <a class="logo" href="http://seedstack.org/">SeedStack</a>
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-responsive-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="fa fa-bars"></span>
        </button>
    </div>
    <div class="collapse navbar-collapse navbar-responsive-collapse" data-role="navigation" style="pointer-events: none;">
        <div class="container">
            <ul class="nav navbar-nav" style="pointer-events: auto;">
                <li class=''>
                    <a href="http://seedstack.org/docs">Documentation</a>
                </li>
                <li class=''>
                    <a href="http://seedstack.org/guides">Guides</a>
                </li>
                <li class='active'>
                    <a href="http://seedstack.org/addons">Add-ons</a>
                </li>
                <li class=''>
                    <a href="http://seedstack.org/posts">News</a>
                </li>
                <li class=''>
                    <a href="http://seedstack.org/community">Community</a>
                </li>
                <li class='dropdown '>
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" data-hover="dropdown">
                        More
                    </a>
                    <ul class="dropdown-menu">
                        <li><a href="http://seedstack.org/glossary">Glossary</a></li>
                        <li><a href="http://seedstack.org/tags">Tags</a></li>
                        <li><a href="http://seedstack.org/project">Project info</a></li>
                        <li><a target="_blank" href="http://seedstack.org/javadoc"><i style="margin-top: 3px" class="pull-right fa fa-external-link"></i> Javadoc</a></li>
                        <li><a target="_blank" href="https://github.com/seedstack/distribution/releases"><i style="margin-top: 3px" class="pull-right fa fa-external-link"></i> Releases</a></li>
                        <li><a target="_blank" href="https://github.com/seedstack"><i style="margin-top: 3px" class="pull-right fa fa-external-link"></i> GitHub</a></li>
                    </ul>
                </li>
                <li>
                    <i class="search fa fa-search search-btn"></i>
                    <div class="search-open">
                        <form method="GET" action="http://seedstack.org/search">
                            <div class="input-group animated fadeInDown">
                                <input id="search-field" type="text" class="form-control" placeholder="Search" name="q">
                                <span class="input-group-btn">
                                    <button class="btn-u" type="submit">Go</button>
                                </span>
                            </div>
                        </form>
                    </div>
                </li>
            </ul>
        </div>
    </div>
</div>


    <div class="title-header small">
    <div class="container">
        <div class="row">
            <div class="col-md-9 col-sm-12">
                <h1>Add-ons</h1>
                <p class="hidden-xs">Additional features and extensions for SeedStack applications.</p>
            </div>
            <div class="col-md-3 hidden-sm hidden-xs">
                <div class="header-image-wrapper">
                    <img class="header-image" src="http://seedstack.org/img/logos/addons-logo.svg">
                </div>
            </div>
        </div>
    </div>
</div>

    <div class="title-subheader">
        <div class="container">
            <ul>
                <li><span><i class="fa fa-chevron-left"></i> <a href="http://seedstack.org/addons">Back to list</a></span></li>
                
                <li class="pull-right">
                    <span class="menu-toggle" style="" data-toggle="collapse" data-target=".side-menu-collapse">
    <span class="sr-only">Toggle menu</span>
    <i class="fa fa-bars"></i>
</span>

                </li>
                
            </ul>
        </div>
    </div>
</div>
<div id="content" class="container">
    <div class="row">
    
    <div class="col-md-3">
        












    </div>
    <div class="col-md-9">
    
        <div class="content-wrapper">
            <div class="doc-content">
                <h1 class="nocount">Flyway</h1>
                

<p>SeedStack Flyway add-on provides support for automatic database migration through <a href="https://flywaydb.org/">Flyway</a>.</p>

<div class="callout callout-info">
    <div style="display:table; width: 100%">
        <div style="display:table-cell; width: 50px; vertical-align: middle;">
            
            
                <i class="fa fa-info-circle icon-2x" style="line-height: 30px;"></i>
            
            
            
            
            
        </div>
        <div style="display:table-cell; vertical-align: middle;">
            <p>For more information about Flyway: <a href="https://flywaydb.org/documentation/">https://flywaydb.org/documentation/</a></p>

        </div>
    </div>
</div>

<h2 id="dependency">Dependency</h2>








    
        
            
        
    

<div class="tab-v2">
    <ul class="nav nav-tabs">
        <li class="active"><a href="#tab-org-seedstack-addons-flyway-flyway-maven" data-toggle="tab" aria-expanded="true"><img class="pull-left" style="margin: 0 5px 0 0; height: 20px;" src="http://seedstack.org//img/logos/maven.png">Maven</a></li>
        <li class=""><a href="#tab-org-seedstack-addons-flyway-flyway-gradle" data-toggle="tab" aria-expanded="true"><img class="pull-left" style="margin: 0 5px 0 0; height: 20px;" src="http://seedstack.org//img/logos/gradle.png">Gradle</a></li>
    </ul>
    <div class="clear-both"></div>
    <div class="tab-content" style="padding-top: 0;">
        <div class="tab-pane in active" id="tab-org-seedstack-addons-flyway-flyway-maven">
            <pre style="margin-top: 0; border: solid 1px #eee; border-top: none;"><code class="language-xml no-linenums" style="background-color: #fff;">&lt;dependency&gt;
    &lt;groupId&gt;org.seedstack.addons.flyway&lt;/groupId&gt;
    &lt;artifactId&gt;flyway&lt;/artifactId&gt;<span id="org-seedstack-addons-flyway-flyway-version" style="display: none;">
    &lt;version&gt;2.0.0&lt;/version&gt;</span>
&lt;/dependency&gt;</code></pre>
            <small class="pull-right" style="color: #aaa; margin-top: -20px; margin-right: 5px;">
                <span id="org-seedstack-addons-flyway-flyway-warn" style="display: none;"><i class="fa fa-warning" style="color: orange;"></i> Specifying versions manually is error-prone, use <a href="http://seedstack.org/docs/basics#dependency-management">dependency management</a> instead.</span>
                <a style="cursor: pointer; display: block;" id="org-seedstack-addons-flyway-flyway-show" onclick="$('#org-seedstack-addons-flyway-flyway-version, #org-seedstack-addons-flyway-flyway-warn').show(); $('#org-seedstack-addons-flyway-flyway-show').hide();">Show version</a>
            </small>
        </div>
        <div class="tab-pane in" id="tab-org-seedstack-addons-flyway-flyway-gradle">
            <pre style="margin-top: 0; border: solid 1px #eee; border-top: none;"><code class="language-gradle no-linenums" style="background-color: #fff;">dependencies {
    compile(&quot;org.seedstack.addons.flyway:flyway:2.0.0&quot;)
}</code></pre>
        </div>
    </div>
</div>


<h2 id="configuration">Configuration</h2>

<p>To enable database migration, a <a href="http://seedstack.org/addons/jdbc/#configuration">properly configured datasource</a> is required:</p>

<pre><code class="language-yaml">jdbc:
  datasources:
    someDatasource:
      url: jdbc:hsqldb:mem:somedb
</code></pre>

<p>With only this configuration, the Flyway add-on will lookup for SQL migration scripts in the <code>db/migration/&lt;dsName&gt;</code> classpath
location and if it finds any, will apply the necessary scripts to upgrade the database to the latest version.</p>

<p>This behavior can be customized with the following options:</p>

<pre><code class="language-yaml">flyway:
  # Configured Flyway data-sources with the datasource name as key
  datasources:          
    someDatasource:
      # Enable / disable automatic database migration, and the default value is true
      enabled: boolean
      
      # Datasource-specific options that override the global options (see below)
      options: ...
      
  # Global options that can be overridden for each datasource (see above)
  options:
    # The locations to scan recursively for migrations
    locations: (String[])
    
    # Schemas managed by Flyway. The first schema will be the one containing the metadata table                      
    schemas: (String[])
    
    # The version to tag an existing schema with when executing baseline                        
    baselineVersion: (String)
    
    # The description to tag an existing schema with when executing baseline               
    baselineDescription: (String)
    
    # The name of the Flyway metadata table            
    table: (String)
    
    # The file name prefix for sql migrations                         
    sqlMigrationPrefix: (String)
    
    # The file name suffix for sql migrations         
    sqlMigrationSuffix: (String)

    # The file name prefix for repeatable sql migrations            
    repeatableSqlMigrationPrefix: (String)
    
    # The file name separator for sql migrations  
    sqlMigrationSeparator: (String)
    
    # The encoding of Sql migrations            
    encoding: (String)
    
    # The prefix of every placeholder                      
    placeholderPrefix: (String)
    
    # The suffix of every placeholder             
    placeholderSuffix: (String)
    
    # The target version up to which Flyway should consider migrations             
    target: (String)
    
    # The username that will be recorded in the metadata table as having applied the migration                        
    installedBy: (String)
    
    # Custom MigrationResolvers to be used in addition to the built-in ones for resolving Migrations to apply.                   
    resolvers: (Class&lt;? extends MigrationResolver&gt;[])
    
    # The callbacks for lifecycle notifications                     
    callbacks: (Class&lt;? extends FlywayCallback&gt;[])
    
    # The placeholders to replace in sql migration scripts                     
    placeholders: (Map&lt;String, String&gt;)
    
    # Whether placeholders should be replaced                  
    placeholderReplacement: (Boolean)
    
    # Whether Flyway should skip the default resolvers         
    skipDefaultResolvers: (Boolean)
    
    # Whether Flyway should skip the default callbacks      
    skipDefaultCallbacks: (Boolean)
    
    # Allows migrations to be run &quot;out of order&quot;          
    outOfOrder: (Boolean)
    
    # Whether to automatically call validate or not when running migrate                    
    validateOnMigrate: (Boolean)
    
    # Whether to automatically call clean or not when a validation error occurs             
    cleanOnValidationError: (Boolean)
    
    # Whether to allow mixing transactional and non-transactional statements within the same migration         
    mixed: (Boolean)
    
    # Whether to group all pending migrations together in the same transaction when applying them (only recommended for databases with support for DDL transactions)                          
    group: (Boolean)
    
    # Ignore missing migrations when reading the metadata table                         
    ignoreMissingMigrations: (Boolean)
    
    # Whether to ignore future migrations when reading the metadata table        
    ignoreFutureMigrations: (Boolean)
    
    # Whether to disable clean    
    cleanDisabled: (Boolean)
    
    # Whether to automatically call baseline when migrate is executed against a non-empty schema with no metadata table    
    baselineOnMigrate: (Boolean)
</code></pre>

<div class="callout callout-info">
    <div style="display:table; width: 100%">
        <div style="display:table-cell; width: 50px; vertical-align: middle;">
            
            
                <i class="fa fa-info-circle icon-2x" style="line-height: 30px;"></i>
            
            
            
            
            
        </div>
        <div style="display:table-cell; vertical-align: middle;">
            <p>More information about options and their default values can be found <a href="https://flywaydb.org/documentation/api/javadoc.html">here</a>.</p>

        </div>
    </div>
</div>

<h2 id="usage">Usage</h2>

<h3 id="migration-scripts">Migration Scripts</h3>

<p>The default location of migration scripts is in the classpath location <code>db/migration/&lt;datasourceName&gt;</code>. The default naming
convention of a migration file is:</p>

<pre><code class="language-plain">V&lt;VERSION&gt;__&lt;DESCRIPTION&gt;.&lt;FORMAT&gt;
</code></pre>

<p>Where:</p>

<ul>
<li><code>&lt;VERSION&gt;</code> is a numeric value that can contain a point (“.”) or an underscore (“_”) for example 3, 3.1, 3_1 are all
valid for the version.</li>
<li>The <strong>double underscore</strong> (__) is what is used to separate the version number from the description.</li>
<li>The <code>&lt;FORMAT&gt;</code> is either <code>sql</code> or <code>java</code> depending on the method being used to supply the migrations.</li>
</ul>

<div class="callout callout-info">
    <div style="display:table; width: 100%">
        <div style="display:table-cell; width: 50px; vertical-align: middle;">
            
            
                <i class="fa fa-info-circle icon-2x" style="line-height: 30px;"></i>
            
            
            
            
            
        </div>
        <div style="display:table-cell; vertical-align: middle;">
            <p>When you use Flyway for the first time, it will by default create a table named <code>schema_version</code>, which records the migration
metadata.</p>

        </div>
    </div>
</div>

<h3 id="automatic-migration">Automatic migration</h3>

<p>By default, the Flyway add-on automatically migrates your databases to their respective latest versions during the application
startup. It is possible to specify a baseline which will exclude all previous migrations (to work on a previously existing
database). Automatic migration on startup can be disabled per datasource by setting the corresponding <code>enabled</code> configuration
attribute to <code>false</code>.</p>

<h2 id="tooling">Tooling</h2>

<p>The Flyway add-on provides several SeedStack tools to execute database operations manually.</p>

<div class="callout callout-info">
    <div style="display:table; width: 100%">
        <div style="display:table-cell; width: 50px; vertical-align: middle;">
            
            
                <i class="fa fa-info-circle icon-2x" style="line-height: 30px;"></i>
            
            
            
            
            
        </div>
        <div style="display:table-cell; vertical-align: middle;">
            <p>For more information about the tool mode, see <a href="http://seedstack.org/docs/core/#tool-mode">this page</a>.</p>

        </div>
    </div>
</div>

<h3 id="migrate-tool">Migrate tool</h3>

<p>Executes a migration operation using the existing configuration.
With the Maven plugin <a href="http://seedstack.org/docs/maven-plugin/tool/">tool goal</a>:</p>

<pre><code class="language-bash">mvn -Dargs=&quot;flyway-migrate -d &lt;dataSourceName&gt;&quot; seedstack:tool
</code></pre>

<p>Or directly by <a href="http://seedstack.org/docs/core/#capsule">running the application capsule</a>:</p>

<pre><code class="language-bash">java -Dseedstack.tool=flyway-migrate -jar app-capsule.jar -d &lt;dataSourceName&gt;
</code></pre>

<p>Optional parameters:</p>

<ul>
<li><code>-t &lt;targetVersion&gt;</code>: the target version to migrate to (overrides the configured target if any).</li>
</ul>

<h3 id="clean-tool">Clean tool</h3>

<p>Drops all database objects.</p>

<p>With the Maven plugin <a href="http://seedstack.org/docs/maven-plugin/tool/">tool goal</a>:</p>

<pre><code class="language-bash">mvn -Dargs=&quot;flyway-clean -d &lt;dataSourceName&gt;&quot; seedstack:tool
</code></pre>

<p>Or directly by <a href="http://seedstack.org/docs/core/#capsule">running the application capsule</a>:</p>

<pre><code class="language-bash">java -Dseedstack.tool=flyway-clean -jar app-capsule.jar -d &lt;dataSourceName&gt;
</code></pre>

<h3 id="info-tool">Info tool</h3>

<p>Prints details and status information about the migrations.</p>

<p>With the Maven plugin <a href="http://seedstack.org/docs/maven-plugin/tool/">tool goal</a>:</p>

<pre><code class="language-bash">mvn -Dargs=&quot;flyway-info -d &lt;dataSourceName&gt;&quot; seedstack:tool
</code></pre>

<p>Or directly by <a href="http://seedstack.org/docs/core/#capsule">running the application capsule</a>:</p>

<pre><code class="language-bash">java -Dseedstack.tool=flyway-info -jar app-capsule.jar -d &lt;dataSourceName&gt;
</code></pre>

<h3 id="validate-tool">Validate tool</h3>

<p>Validates the currently applied migrations against the ones available on the classpath.</p>

<p>With the Maven plugin <a href="http://seedstack.org/docs/maven-plugin/tool/">tool goal</a>:</p>

<pre><code class="language-bash">mvn -Dargs=&quot;flyway-validate -d &lt;dataSourceName&gt;&quot; seedstack:tool
</code></pre>

<p>Or directly by <a href="http://seedstack.org/docs/core/#capsule">running the application capsule</a>:</p>

<pre><code class="language-bash">java -Dseedstack.tool=flyway-validate -jar app-capsule.jar -d &lt;dataSourceName&gt;
</code></pre>

<p>Optional parameters:</p>

<ul>
<li><code>-t &lt;targetVersion&gt;</code>: the target version to validate (overrides the configured target if any).</li>
</ul>

<h3 id="baseline-tool">Baseline tool</h3>

<p>Baselines an existing database, excluding all migrations up to and including the configured baseline version.</p>

<p>With the Maven plugin <a href="http://seedstack.org/docs/maven-plugin/tool/">tool goal</a>:</p>

<pre><code class="language-bash">mvn -Dargs=&quot;flyway-baseline -d &lt;dataSourceName&gt;&quot; seedstack:tool
</code></pre>

<p>Or directly by <a href="http://seedstack.org/docs/core/#capsule">running the application capsule</a>:</p>

<pre><code class="language-bash">java -Dseedstack.tool=flyway-baseline -jar app-capsule.jar -d &lt;dataSourceName&gt;
</code></pre>

<p>Optional parameters:</p>

<ul>
<li><code>-bv &lt;baselineVersion&gt;</code>: the baseline version to use (overrides the configured baseline version if any).</li>
<li><code>-bd &lt;baselineDescription&gt;</code>: the baseline description (overrides the configured baseline description if any).</li>
</ul>

<h3 id="repair-tool">Repair tool</h3>

<p>Repairs the metadata table.</p>

<p>With the Maven plugin <a href="http://seedstack.org/docs/maven-plugin/tool/">tool goal</a>:</p>

<pre><code class="language-bash">mvn -Dargs=&quot;flyway-repair -d &lt;dataSourceName&gt;&quot; seedstack:tool
</code></pre>

<p>Or directly by <a href="http://seedstack.org/docs/core/#capsule">running the application capsule</a>:</p>

<pre><code class="language-bash">java -Dseedstack.tool=flyway-repair -jar app-capsule.jar -d &lt;dataSourceName&gt;
</code></pre>

<h2 id="example">Example</h2>

<p>Configuration for a mysql database running on the same machine:</p>

<pre><code class="language-yaml">jdbc:
  datasources:
    datasource1:
      url: jdbc:hsqldb:mem:somedb1
    datasource2:
      url: jdbc:hsqldb:mem:somedb2
      
flyway:
  datasources:
    datasource2:
      options:
        baselineVersion: 1.1
</code></pre>

<p>Migration files:</p>

<pre><code class="language-plain">src/main/resources/db/migration
  datasource1
    V1.1__createStructure.sql
    V1.2__addEmailColumn.sql
  datasource2
    V1.1__createStructure.sql
    V2__structureV2.sql
</code></pre>

<p>In this example:</p>

<ul>
<li>The database <code>somedb1</code> will be automatically updated to version 1.2 by applying all the required migrations.</li>
<li>The database <code>somedb2</code> will be automatically updated to version 1.2 by only applying the V2 migration if needed (migration
V1.1 will be left out as specified by the baseline configuration).</li>
</ul>

<p>You can also use the following tool to manually migrate <code>datasource1</code>:</p>

<pre><code class="language-bash">mvn -Dargs=&quot;flyway-migrate -d datasource1&quot; seedstack:tool
</code></pre>

<p>Or without using Maven, directly by running the application capsule:</p>

<pre><code class="language-bash">java -Dseedstack.tool=flyway-migrate -jar app-capsule.jar -d datasource1
</code></pre>

            </div>
        </div>
    </div>
</div>

</div>
<div id="toc">
    <div class="toc" data-spy="affix" data-offset-top="314" data-offset-bottom="336">
    <div>
        
    </div>
    <br/>
    <div>
        <p class="title">On this page</p>
        <nav id="TableOfContents">
<ul>
<li>
<ul>
<li><a href="#dependency">Dependency</a></li>
<li><a href="#configuration">Configuration</a></li>
<li><a href="#usage">Usage</a>
<ul>
<li><a href="#migration-scripts">Migration Scripts</a></li>
<li><a href="#automatic-migration">Automatic migration</a></li>
</ul></li>
<li><a href="#tooling">Tooling</a>
<ul>
<li><a href="#migrate-tool">Migrate tool</a></li>
<li><a href="#clean-tool">Clean tool</a></li>
<li><a href="#info-tool">Info tool</a></li>
<li><a href="#validate-tool">Validate tool</a></li>
<li><a href="#baseline-tool">Baseline tool</a></li>
<li><a href="#repair-tool">Repair tool</a></li>
</ul></li>
<li><a href="#example">Example</a></li>
</ul></li>
</ul>
</nav>
    </div>
    <br/>
    <div>
        
        
        
        <a href='https://github.com/seedstack/flyway-addon/edit/docs/index.md' target="_blank"><i class="fa fa-edit"></i> Edit this page</a>
        
        
    </div>
</div>
</div>
<div id="footer">
    <a class="scrollup">Scroll</a>
<div class="footer-v3">
    <div class="footer">
        <div class="container">
            <div class="row">
                <div class="col-md-4 md-margin-bottom-40">
                    <div class="headline"><h2>About</h2></div>
                    <p class="margin-bottom-25 md-margin-bottom-40">
                        SeedStack is an opinionated, easy-to-use Java development stack for building applications and micro-services.
                    </p>
                    <p>
                        <i class="fa fa-file-text"></i> <a target="_blank" href="http://seedstack.org/docs">Docs</a>
                        <i class="fa fa-info-circle"></i> <a target="_blank" href="http://seedstack.org/javadoc">Javadoc</a>
                        <i class="fa fa-book"></i> <a target="_blank" href="http://seedstack.org/guides">Guides</a>
                        <i class="fa fa-plug"></i> <a target="_blank" href="http://seedstack.org/addons">Add-ons</a>
                        <br/>
                        <i class="fa fa-keyboard-o"></i> <a style="cursor: pointer;" onclick="seedstack.ui.openHelp();">Keyboard shortcuts</a>
                    </p>
                </div>

                <div class="col-md-4 md-margin-bottom-40">
                    <div class="posts">
                        <div class="headline"><h2>License and credits</h2></div>
                        <p>
                            Code licensed under the <a href="https://www.mozilla.org/MPL/2.0" target="_blank">Mozilla Public License 2.0</a>.
                            <br/>
                            Documentation licensed under <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a>.
                            <br/>
                            Some illustrations by <a href="https://www.Vecteezy.com/">www.Vecteezy.com</a>
                        </p>
                    </div>
                </div>

                <div class="col-md-4 map-img">
                    <div class="headline"><h2>Contact us</h2></div>
                    <address>
                        <p>
                            <i class="fa fa-stack-overflow"></i> <a target="_blank" href="http://stackoverflow.com/questions/ask?tags=seedstack">StackOverflow</a>
                            <br/>
                            <i class="fa fa-comments"></i> <a target="_blank" href="https://kiwiirc.com/client/irc.freenode.net#seedstack">IRC</a>
                            <br/>
                            <i class="fa fa-github"></i> <a target="_blank" href="https://github.com/seedstack">GitHub</a>
                            <br/>
                            <i class="fa fa-link"></i> <a target="_blank" href="https://projects.ow2.org/bin/view/seedstack/">OW2</a>
                        </p>
                    </address>

                    <div class="headline"><h2>Stay in touch</h2></div>
                    <div style="margin-bottom: 20px;">
                        <a class="twitter-follow-button"
                           href="https://twitter.com/seedstack"
                           data-show-count="false"
                           data-size="large"
                           data-lang="en">
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

</div>
<div id="hotkeys-modal" class="modal">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                        aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">Keyboard shortcuts</h4>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-md-12">
                        <table class="keyboard-mappings">
                            <tbody>
                            <tr>
                                <td class="keys">
                                    <kbd>?</kbd>
                                </td>
                                <td>Show this help dialog</td>
                            </tr>
                            <tr>
                                <td class="keys">
                                    <kbd>/</kbd>
                                </td>
                                <td>Focus the search field</td>
                            </tr>
                            <tr style="height: 20px;"><td></td></tr>
                            <tr>
                                <td class="keys">
                                    <kbd><i class="fa fa-arrow-left"></i></kbd>
                                </td>
                                <td>Go to previous page</td>
                            </tr>
                            <tr>
                                <td class="keys">
                                    <kbd><i class="fa fa-arrow-right"></i></kbd>
                                </td>
                                <td>Go to next page</td>
                            </tr>
                            <tr style="height: 20px;"><td></td></tr>
                            <tr>
                                <td class="keys">
                                    <kbd>g</kbd> <kbd>d</kbd>
                                </td>
                                <td>Go to documentation</td>
                            </tr>
                            <tr>
                                <td class="keys">
                                    <kbd>g</kbd> <kbd>a</kbd>
                                </td>
                                <td>Go to add-ons library</td>
                            </tr>
                            <tr>
                                <td class="keys">
                                    <kbd>g</kbd> <kbd>g</kbd>
                                </td>
                                <td>Go to guides list</td>
                            </tr>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="versions-modal" class="modal">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                        aria-hidden="true">&times;</span></button>
                <h4 id="versions-title" class="modal-title">Fetching components...</h4>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-md-12">
                        <table id="versions-table" class="table table-striped table-hover table-bordered">
                            <tr>
                                <th>Component</th>
                                <th>Version</th>
                            </tr>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/idea.min.css">

<script src="//code.jquery.com/jquery-1.11.2.min.js"></script>
<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/yaml.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/gradle.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/highlightjs-line-numbers.js/2.1.0/highlightjs-line-numbers.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/mousetrap/1.4.6/mousetrap.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.6.0/clipboard.min.js"></script>
<script src="/js/jquery.highlight.js"></script>
<script src="/js/seedstack.js"></script>
<script>
    $(document).ready(function () {
        var $search = $('.search-btn');

        $('.search').click(function () {
            if ($search.hasClass('fa-search')) {
                seedstack.ui.openSearch();
            } else {
                seedstack.ui.closeSearch();
            }
        });

        function hideJavaImports(block) {
            $(block).filter('.language-java')
                .find('table > tbody > tr')
                .each(function (i, javaLine) {
                    var $javaLine = $(javaLine);
                    var code = $javaLine.find("td.hljs-ln-code div.hljs-ln-line").text();
                    if (/^package/.test(code) || /^import/.test(code) || code.trim().length === 0) {
                        $javaLine.hide();
                    } else {
                        return false;
                    }
                });
        }

        $('pre code').each(function (i, block) {
            hljs.highlightBlock(block);

            if ($(block).not('.no-linenums').length > 0) {
                hljs.lineNumbersBlock(block);
                
                var lastLine = $(block).find('table > tbody > tr:last');
                if (lastLine.text().trim() === "") {
                    lastLine.remove();
                }
            }

            
            hideJavaImports(block);
        });

        
        $('.doc-content h2, .doc-content h3').each(function () {
            $(this).append(" <a class='title-anchor' href='#" + this.id + "'>#</a>");
        });

        Mousetrap.bind('/', function () {
            seedstack.ui.openSearch();
            return false;
        });

        Mousetrap.bind('left', function () {
            if (seedstack.state.previousPage) {
                window.location = seedstack.state.previousPage;
            }
            return false;
        });

        Mousetrap.bind('right', function () {
            if (seedstack.state.nextPage) {
                window.location = seedstack.state.nextPage;
            }
            return false;
        });

        Mousetrap.bind('?', function () {
            seedstack.ui.openHelp();
            return false;
        });

        Mousetrap.bind('esc', function () {
            seedstack.ui.closeHelp();
            seedstack.ui.closeSearch();
            seedstack.ui.closeVersions();
            return false;
        });

        var originalCallback = Mousetrap.stopCallback;
        Mousetrap.stopCallback = function (e, element, combo) {
            if (combo === 'esc') {
                return false;
            }

            return originalCallback(e, element, combo);
        };

        function bindShortcuts(value) {
            $.each(value, function (sequence, item) {
                if (typeof item === 'string') {
                    Mousetrap.bind("g " + sequence, function () {
                        window.location = item;
                        return false;
                    });
                } else if (typeof item === 'object') {
                    Mousetrap.bind("g " + sequence, function () {
                        window.location = item.path;
                        return false;
                    });
                    if (item.shortcuts && location.pathname.indexOf(item.path) === 0) {
                        bindShortcuts(item.shortcuts);
                    }
                }
            });
        }

        bindShortcuts(seedstack.ui.shortcuts);

        $('.quick-paste span').each(function (index, element) {
            $(element).attr({"id": "quick-paste-line"});
            $(element).append("<span data-toggle=\"tooltip\" data-placement=\"top\" data-title=\"Copy\" data-clipboard-target=\"#quick-paste-line\" class=\"copy-button\"><i class=\"fa fa-clipboard\"></i></span>");
        });
        var preId = 0;
        $('.doc-content pre').each(function (index, element) {
            preId++;
            $(element).attr({"id": "snippet-" + preId});
            $(element).prepend("<span data-toggle=\"tooltip\" data-placement=\"left\" data-title=\"Copy\" data-clipboard-target=\"#snippet-" + preId + "\" class=\"copy-button\"><i class=\"fa fa-clipboard\"></i></span>");
        });
        var clipboard = new Clipboard('.copy-button', {
            target: function (trigger) {
                var elt = $($(trigger).data('clipboard-target'));
                elt.find('code > table > tbody > tr').show();
                return elt.get(0);
            }
        });
        clipboard.on('success', function (e) {
            var elt = $($(e.trigger).data('clipboard-target'));
            hideJavaImports($(elt).children("code"));

            var tooltip = $("body #" + $(e.trigger).attr("aria-describedby"));
            tooltip.css('left', '-=14px');
            tooltip.children(".tooltip-inner").html("Copied!");
            e.clearSelection();
        });
        clipboard.on('error', function (e) {
            var tooltip = $("body #" + $(e.trigger).attr("aria-describedby"));
            tooltip.css('left', '-=83px');
            tooltip.children(".tooltip-inner").html("Error! Copy manually");
        });

        $('[data-toggle="tooltip"]').tooltip({
            container: 'body'
        });

        $('#hotkeys-modal, #versions-modal').bind('hidden.bs.modal', function () {
            $("html").css("margin-right", "0px");
        }).bind('show.bs.modal', function () {
            $("html").css("margin-right", "-15px");
        });

        var query = seedstack.strings.parseQueryString(location);
        if (query.h && query.h.length > 0) {
            $('.doc-content').highlight(query.h);
            if (query.scroll) {
                var firstOccurence = $('span[class=highlight]:first');
                if (firstOccurence.length > 0) {
                    $('html, body').animate({
                        scrollTop: firstOccurence.offset().top - 20
                    }, 250);
                }
            }
        }

        $(window).scroll(function () {
            if ($(this).scrollTop() > 200) {
                $('.scrollup').fadeIn();
            } else {
                $('.scrollup').fadeOut();
            }
        });

        $('.scrollup').click(function () {
            $("html, body").animate({scrollTop: 0}, 250);
            return false;
        });
    });
</script>
<script>window.twttr = (function (d, s, id) {
    var js, fjs = d.getElementsByTagName(s)[0], t = window.twttr || {};
    if (d.getElementById(id)) return t;
    js = d.createElement(s);
    js.id = id;
    js.src = "https://platform.twitter.com/widgets.js";
    fjs.parentNode.insertBefore(js, fjs);
    t._e = [];
    t.ready = function (f) {
        t._e.push(f);
    };
    return t;
}(document, "script", "twitter-wjs"));</script>

</body>
</html>
